### Служба парсинга данных Национального Банка Украины (НБУ)

Это служба Windows, которая автоматически парсит данные из НБУ. 
Помимо этого, она поддерживает настройки, которые хранятся в реестре операционной системы.

#### Описание

Служба регулярно выполняет запросы к API Национального Банка Украины для получения данных о валютных курсах. 
Полученные данные сохраняются в формате JSON для дальнейшего использования.

#### Особенности

- **Автоматическое обновление данных:** Служба регулярно обновляет информацию, чтобы обеспечить актуальность данных.
- **Хранение настроек в реестре:** Все настройки, такие как интервал обновления и путь сохранения файлов, хранятся в реестре Windows для удобного управления и настройки.

#### Как запустить/выключить
1. **Создать новую службу:**  
  
   ```powershell
   New-Service -Name test -BinaryPathName D:\Source\nbu_parser\build\nbu_parser.exe
   ```
   (Важно указать полный путь к файлу)

2. **Запустить службу:**
   ```powershell
   Start-Service -Name test
   ```

3. **Остановить службу:**
   ```powershell
   Stop-Service -Name test
   ```

4. **Удалить службу:**
   ```powershell
   sc.exe delete test
   ```

#### Настройка
Для настройки параметров службы можно внести изменения в реестр по следующему пути:

```
HKEY_LOCAL_MACHINE\SOFTWARE\nbu_parser
```

В настоящее время доступны следующие настройки:

![image](https://github.com/pa1n-dev/nbu_parser/assets/74207477/daa470a2-158f-46e3-be91-8e19bb36fb0e)

- **path**: Путь для сохранения данных.
- **rates_filename**: Название файла с данными о валюте.
- **logs_filename**: Название файла с логами.
- **currencies**: Список валют, данные о которых нужно сохранять.
- **update_rate**: Частота сохранения данных о валюте в миллисекундах.
- **logs**: Флаг, указывающий, нужно ли записывать логи.

Так-же в Release есть примеры reg с разными настройками

#### Сборка
**Только Release x86**

### Используемое программное обеспечение
- [Curl](https://github.com/curl/curl) - Используется для выполнения сетевых запросов, очень удобная и популярная библиотека
- [WinReg](https://github.com/GiovanniDicanio/WinReg) - Простая библиотека для работы с реестром
- [Json](https://github.com/nlohmann/json) - Популярная библиотека для работы с json
